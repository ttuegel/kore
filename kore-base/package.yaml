_package-common: !include "../package-common.yaml"

name:                kore-base
category:            Language
<<: *version
<<: *legal

# Metadata used when publishing your package
# synopsis:            Short description of your package
# category:            Web

# To avoid duplicated efforts in documentation and dealing with the
# complications of embedding Haddock markup inside cabal files, it is
# common to point users to the README.md file.
description: Please see the [README](README.md) file.

<<: !include "../package-haskell.yaml"

flags:
  <<: *flags
  <<: *flag_threaded

<<: *when_release

dependencies:
  - kore-prelude
  - base >=4.7
  - adjunctions >=4.4
  - aeson >=1.4
  - array >=0.5
  - async >=2.2
  - bytestring >=0.10
  - comonad >=5.0
  - containers >=0.5.8
  - clock >=0.8
  - co-log >=0.3
  - cryptonite >=0.25
  - data-default >=0.7
  - deepseq >=1.4
  - directory >=1.3
  - errors >=2.3
  - exceptions >=0.10
  - extra >=1.6
  - fgl >=5.7
  - free >=5.1
  - filepath >=1.4
  - generic-lens >=1.1
  - generics-sop >=0.4 && <0.5
  - ghc-trace-events >= 0.0
  - gitrev >=1.3
  - graphviz >=2999.20
  - groom >=0.1
  - hashable >=1.2
  - haskeline >=0.7
  - integer-gmp >=1.0
  - lens >=4.17
  - megaparsec >= 7.0.4
  - memory >=0.14
  - mmorph >=1.1
  - mtl >=2.2
  - optparse-applicative >=0.14
  - parser-combinators >=1.1
  - prettyprinter >=1.2
  - process >=1.6
  - profunctors >=5.3
  - recursion-schemes >=5.1
  - reflection >=2.1
  - semialign >=1
  - sqlite-simple >=0.4
  - streams
  - stm >=2.5
  - template-haskell >=2.14
  - text >=1.2
  - these >=1.0
  - time >=1.8
  - transformers >=0.4
  - unordered-containers >=0.2
  - vector >= 0.12
  - witherable >=0.3

build-tools:
  - tasty-discover:tasty-discover >=4.2

library:
  source-dirs: src

tests:
  kore-base-test:
    main: Test.hs
    source-dirs:
      - test
    dependencies:
      - kore-test-base
      - kore-base
      - QuickCheck >=2.13
      - call-stack >=0.1
      - hedgehog >=1.0
      - quickcheck-instances >=0.3
      - tasty >=1.2
      - tasty-ant-xml >=1.1
      - tasty-hedgehog >=1.0
      - tasty-golden >=2.3
      - tasty-hunit >=0.10
      - tasty-quickcheck >=0.10
      - template-haskell >=2.14
      - temporary >=1.3
    <<: *executable
